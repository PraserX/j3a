<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: worker.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: worker.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>﻿"use strict";

///////////////////////////////////////////////////////////////////////////////////
// Constructor / Class definition
///////////////////////////////////////////////////////////////////////////////////

/**
 * @class
 * @classdesc Worker class processing DOM elements
 */
function Worker() {
   
}

///////////////////////////////////////////////////////////////////////////////////
// Properties
///////////////////////////////////////////////////////////////////////////////////

Worker.prototype.ees = null;    // encrypted elements, ee == [{resourceId = id, oda = oda}, ...]


///////////////////////////////////////////////////////////////////////////////////
// Methods
///////////////////////////////////////////////////////////////////////////////////

/**
 * @description Loads all encrypted elements on current page
 * @returns {integer} Count of encrypted elements in page
 */
Worker.prototype.LoadElements = function () {
    var ees = jQuery("encrypted-element");

    this.ees = [];

    for (var i = 0; i &lt; ees.length; i++) {
        var ee = Object();
        ee.resourceId = ees[i].getAttribute("resource-id");
        ee.oda = ees[i].getAttribute("oda");

        this.ees.push(ee);
    }

    return ees.length;
}

/**
 * @desription Returns loaded elemetns
 * @returns {Array} Array of encrypted elements
 */
Worker.prototype.GetElements = function () {
    return this.ees;
}

/**
 * @description Returns element by id (element content) or null if elements is not found
 * @param {string} id Elements id
 * @returns {string}
 */
Worker.prototype.GetElementByResourceId = function (id) {
    var ees = jQuery("encrypted-element");

    for (var i = 0; i &lt; ees.length; i++) {
        if (id == ees[i].getAttribute("resource-id")) {
            return ees[i];
        }
    }

    return null;
} 

/**
 * @description Element content is replaced by new one
 * @param {string} id Element ID
 * @param {string} content Encrypted content
 */
Worker.prototype.ReplaceElement = function (id, content) {
    var element = this.GetElementByResourceId(id);
    jQuery(element).replaceWith(content);
}

/**
 * @description Element content is replaced by access denied warning
 * @param {string} id Element ID
 * @param {string} url Warning layout url
 */
Worker.prototype.ReplaceByWarningElement = function (id, url) {
    var element = this.GetElementByResourceId(id);
    jQuery(element).load(url);
}

// Browserify export
module.exports = Worker;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Acl.html">Acl</a></li><li><a href="Config.html">Config</a></li><li><a href="Core.html">Core</a></li><li><a href="Crypter.html">Crypter</a></li><li><a href="Roles.html">Roles</a></li><li><a href="Seed.html">Seed</a></li><li><a href="Worker.html">Worker</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Wed May 24 2017 07:35:17 GMT+0200 (Střední Evropa (letní čas))
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
